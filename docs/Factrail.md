---
title: FactrailÔºàFact TrailÔºâ
type: private
status: Active
start: 2025-12-29
tags: [project, factrail, log-infrastructure, integration]
related: [[F2AÔºàFact to ActÔºâ]]
---

# FactrailÔºàFact TrailÔºâ

## üéØ ÁõÆÁöÑÔºàWhyÔºâ

- ÂÄã‰∫∫„ÅÆÂ§ñÈÉ®„ÉªÂÜÖÈÉ®Ê¥ªÂãï„ÅßÁô∫Áîü„Åô„Çã **„Åô„Åπ„Å¶„ÅÆ„Äå‰∫ãÂÆüÔºàFactÔºâ„Äç„Çí‰∏ÄÂÖÉÁöÑ„Å´ÂèéÈõÜ„ÉªÊ≠£Ë¶èÂåñ„Éª‰øùÊåÅ„Åô„Çã**
- ÁâπÂÆö„ÅÆ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇÑ UI „Å´‰æùÂ≠ò„Åó„Å™„ÅÑ **„É≠„Ç∞Âü∫Áõ§Ôºà„Ç§„É≥„Éï„É©Â±§Ôºâ** „ÇíÊßãÁØâ„Åô„Çã
- F2A„ÉªObsidian„ÉªSlack„ÉªAI „Å™„Å©„ÄÅË§áÊï∞„ÅÆ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åã„Çâ **ÂÜçÂà©Áî®ÂèØËÉΩ„Å™ÂΩ¢„Åß„É≠„Ç∞„Çí‰æõÁµ¶„Åô„Çã**

Factrail „ÅØ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åß„ÅØ„Å™„Åè„ÄÅ  
**„Äå‰∫ãÂÆü„ÅåÈÄöÈÅé„Åó„ÄÅÁóïË∑°ÔºàTrailÔºâ„Å®„Åó„Å¶ÊÆã„ÇãÂü∫Áõ§„Äç**„Åß„ÅÇ„Çã„ÄÇ

---

## „Ç≥„É≥„Çª„Éó„Éà: Fact Trail

Factrail „ÅØ„ÄåFactÔºà‰∫ãÂÆüÔºâ„Äç„Åå  
**ÊôÇÈñìËª∏‰∏ä„Å´ TrailÔºàËªåË∑°Ôºâ„Å®„Åó„Å¶Á©ç„ÅøÈáç„Å™„Çã**„Åì„Å®„ÇíÂâçÊèê„Å´Ë®≠Ë®à„Åï„Çå„Çã„ÄÇ

- **Fact**: Â§ñÈÉ®„ÉªÂÜÖÈÉ®„ÅßÁô∫Áîü„Åó„ÅüË¶≥Ê∏¨ÂèØËÉΩ„Å™Âá∫Êù•‰∫ã
- **Trail**: ÂÜçËß£Èáà„ÉªÂÜçÊßãÊàê„ÉªÂÜçÂà©Áî®ÂèØËÉΩ„Å™ÊôÇÁ≥ªÂàó„É≠„Ç∞

Factrail Ëá™Ë∫´„ÅØ„ÄåËß£Èáà„Äç„ÇÑ„ÄåÊÑèÊÄùÊ±∫ÂÆö„Äç„ÇíË°å„Çè„Å™„ÅÑ„ÄÇ  
„Åù„Çå„Çâ„ÅØ **F2A „ÇÑ AI „ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅÆË≤¨Âãô**„Å®„Åô„Çã„ÄÇ

---

## üèÅ „Ç¥„Éº„É´ÔºàWhatÔºâ

### MVPÔºà2ÈÄ±ÈñìÔºâ

- GitHub Webhook ‚Üí PostgreSQL ‚Üí Slack DM „ÅÆÊµÅ„Çå„ÇíÂÆüË£Ö
- OAuthË®≠ÂÆöÁî®„ÅÆÊúÄÂ∞èUI„ÇíÊèê‰æõÔºàlocalhostÈÅãÁî®Ôºâ
- F2AÈÄ£Êê∫Áî®„ÅÆREST API„ÇíÂÖ¨Èñã

### ÊàêÊûúÁâ©

- Â§ñÈÉ®„Çµ„Éº„Éì„ÇπÈÄ£Êê∫„ÇíÈõÜÁ¥Ñ„Åô„Çã **„É≠„Ç∞Âü∫Áõ§„Çµ„Éº„Éì„Çπ**
- Ê≠£Ë¶èÂåñ„Åï„Çå„Åü FactÔºà„Ç§„Éô„É≥„ÉàÔºâ„Çí‰øùÊåÅ„ÉªÈÖç‰ø°„Åß„Åç„Çã‰ªïÁµÑ„Åø
- „Éà„Éº„ÇØ„É≥ÁÆ°ÁêÜUI„Å®SlackËá™ÂãïÊäïÁ®øÊ©üËÉΩ

### ÂÆå‰∫ÜÊù°‰ª∂

- GitHub „ÅÆ Issue/PR „Ç§„Éô„É≥„Éà„ÅåËá™Âãï„Åß Slack DM „Å´ÊµÅ„Çå„Çã
- ÊöóÂè∑Âåñ„Åï„Çå„Åü„Éà„Éº„ÇØ„É≥„ÅåÂÆâÂÖ®„Å´ÁÆ°ÁêÜ„Åï„Çå„Å¶„ÅÑ„Çã
- F2A „Åã„Çâ GET /api/facts „Åß„Éá„Éº„ÇøÂèñÂæóÂèØËÉΩ
- 1ÈÄ±Èñì„ÅÆÂÆüÈÅãÁî®„Åß„É≠„Ç∞„ÅÆ‰æ°ÂÄ§„ÇíÊ§úË®ºÊ∏à„Åø

---

## üë§ ÊÉ≥ÂÆö„É¶„Éº„Ç∂„ÉºÔºàWhoÔºâ

### ÂàùÊúü„Éï„Çß„Éº„Ç∫

- Ëá™ÂàÜÂ∞ÇÁî®Ôºà„Ç∑„É≥„Ç∞„É´„É¶„Éº„Ç∂„ÉºÔºâ
- localhost or Railway ÈÅãÁî®

### Â∞ÜÊù•„Éï„Çß„Éº„Ç∫

- ‰ªñ‰∫∫„ÇÇÂà©Áî®ÂèØËÉΩ„Å™ SaaS Âåñ
- „Éû„É´„ÉÅ„ÉÜ„Éä„É≥„ÉàÂØæÂøú
- F2A ‰ª•Â§ñ„ÅÆ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Å®„ÅÆÈÄ£Êê∫

---

## üìå ÊäÄË°ì„Çπ„Çø„ÉÉ„ÇØ

### Backend (API)

- **Framework**: NestJS + TypeScript
- **ORM**: Prisma
- **DB**: PostgreSQL
- **Queue**: Bull (Redis)
- **ÊöóÂè∑Âåñ**: crypto (Node.js built-in)

### Frontend (Web)

- **Framework**: Next.js (App Router)
- **UI**: Chakra UI
- **Ë™çË®º**: BasicË™çË®ºÔºàÂàùÊúüÔºâ

### Infrastructure

- **API Deploy**: Railway
- **Web Deploy**: Railway or Vercel
- **DB**: Railway PostgreSQL
- **Redis**: Railway Redis

---

## üìå ÁÆ°ÁêÜÂØæË±°„Éâ„É°„Ç§„É≥ÔºàWhatÔºâ

### „Ç≥„Ç¢„Éâ„É°„Ç§„É≥

#### FactsÔºà‰∫ãÂÆüÔºâ
- Â§ñÈÉ®„Çµ„Éº„Éì„ÇπÁî±Êù•„ÅÆ„Ç§„Éô„É≥„Éà
- Áµ±‰∏Ä„Éï„Ç©„Éº„Éû„ÉÉ„Éà„Å∏„ÅÆÊ≠£Ë¶èÂåñ
- ÊôÇÁ≥ªÂàó„Åß„ÅÆ‰øùÂ≠ò„ÉªÊ§úÁ¥¢

#### IntegrationsÔºàÈÄ£Êê∫Ôºâ
- OAuth „Éà„Éº„ÇØ„É≥ÁÆ°ÁêÜÔºàÊöóÂè∑ÂåñÔºâ
- Webhook „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà
- ÂêåÊúüÁä∂ÊÖã„ÅÆÁÆ°ÁêÜ

#### DispatchersÔºàÈÖç‰ø°Ôºâ
- Slack DM „Å∏„ÅÆËá™ÂãïÊäïÁ®ø
- F2AÂêë„Åë API
- Â∞ÜÊù•: „Åù„ÅÆ‰ªñ„ÅÆ„ÇØ„É©„Ç§„Ç¢„É≥„Éà

### Â§ñÈÉ®ÈÄ£Êê∫ÔºàÂÑ™ÂÖàÈ†Ü‰ΩçÔºâ

1. **GitHub**ÔºàMVPÔºâ
   - Issue / PR / Commit
   - Webhook Âèó‰ø°

2. **Slack**ÔºàMVPÔºâ
   - OAuth Ë™çË®º
   - DM „Å∏„ÅÆÊäïÁ®ø
   - Rate Limit ÂØæÂøú

3. **Google**ÔºàÂ∞ÜÊù•Ôºâ
   - Calendar / Todo
   - OAuth 2.0

---

## üóÑ „Éá„Éº„Çø„Çπ„Ç≠„Éº„Éû
```prisma
model Fact {
  id          String   @id @default(cuid())
  externalId  String   
  source      String   
  sourceUrl   String?  
  occurredAt  DateTime
  
  title       String   
  summary     String?  
  content     String?  @db.Text
  raw         Json     
  
  type        String   
  metadata    Json?    
  
  // ÈÄ£Êê∫
  slackMessageId String? @unique
  f2aEventId     String? @unique
  
  // Áõ£Êüª
  createdAt   DateTime @default(now())
  processedAt DateTime?
  
  @@unique([source, externalId])
  @@index([occurredAt])
  @@index([type])
  @@index([source])
}

model Integration {
  id            String   @id @default(cuid())
  provider      String   
  accountId     String   
  accountName   String?  
  
  // ÊöóÂè∑Âåñ„Åï„Çå„Åü„Éà„Éº„ÇØ„É≥
  accessToken   String   @db.Text
  refreshToken  String?  @db.Text
  expiresAt     DateTime?
  scope         String[]
  
  status        String   @default("active")
  lastSyncAt    DateTime?
  
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  
  @@unique([provider, accountId])
}
```

---

## üö´ Èùû„Çπ„Ç≥„Éº„ÉóÔºàNot ScopeÔºâ

- È´òÂ∫¶„Å™Ê§úÁ¥¢ UIÔºàÂÖ®ÊñáÊ§úÁ¥¢„ÄÅ„Éï„Ç£„É´„Çø„É™„É≥„Ç∞Ôºâ
- ÂàÜÊûê„ÉªÂèØË¶ñÂåñ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
- ÈÄöÁü•„ÅÆ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫ÔºàÊù°‰ª∂ÂàÜÂ≤ê„ÄÅ„Éï„Ç£„É´„ÇøÔºâ
- AI „Å´„Çà„ÇãËá™ÂãïË¶ÅÁ¥Ñ„ÉªÂàÜÈ°ûÔºàPhase 5 ‰ª•ÈôçÔºâ
- „Éû„É´„ÉÅ„É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜÁîªÈù¢

---

## üß† Ë®≠Ë®à‰∏ä„ÅÆÂâçÊèêÊÄùÊÉ≥

- **Write Once, Read Many**: ‰∏ÄÂ∫¶Ë®òÈå≤„Åó„ÅüFact„ÅØ‰∏çÂ§â
- **ÁñéÁµêÂêà**: F2A„Å®„ÅØÁã¨Á´ã„Åó„Å¶Âãï‰ΩúÂèØËÉΩ
- **ÊÆµÈöéÁöÑË©≥Á¥∞Âåñ**: title ‚Üí summary ‚Üí content ‚Üí raw „ÅÆÈ†Ü„ÅßÊÉÖÂ†±„ÇíÊåÅ„Å§
- **„Éó„É©„Ç§„Éê„Ç∑„Éº**: „Éà„Éº„ÇØ„É≥„ÅØÂøÖ„ÅöÊöóÂè∑Âåñ„ÄÅSlack„Å´„ÅØÊúÄÂ∞èÈôê„ÅÆÊÉÖÂ†±„ÅÆ„Åø

---

## üß© F2A „Å®„ÅÆÈñ¢‰øÇ

### „Éá„Éº„Çø„Éï„É≠„Éº
```
[GitHub] ‚Üí [Factrail] ‚Üí [Facts DB]
                ‚Üì              ‚Üì
            [Slack DM]    [F2A Import]
```

### ÈÄ£Êê∫ÊñπÂºè

- **PullÂûã**: F2A „ÅåÂÆöÊúüÁöÑ„Å´ GET /api/facts „ÇíÂëº„Å∂
- **Â∞ÜÊù•**: Webhook „Åß F2A „Å´ Push ÈÄöÁü•

### „Çπ„Ç≠„Éº„Éû„Éû„ÉÉ„Éî„É≥„Ç∞
```typescript
// Fact ‚Üí F2A Event Â§âÊèõ
{
  fact.title       ‚Üí event.content
  fact.type        ‚Üí event.event_type_id (Â§âÊèõ„ÉÜ„Éº„Éñ„É´ÁµåÁî±)
  fact.metadata    ‚Üí event.payload
  fact.occurredAt  ‚Üí event.occurred_at
  fact.id          ‚Üí event.external_id
}
```

---

## üó∫ ÂÆüË£Ö„É≠„Éº„Éâ„Éû„ÉÉ„Éó

### Week 1: Âü∫Áõ§ÊßãÁØâ

- **Day 1-2**: „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó
  - NestJS + Prisma ÂàùÊúüË®≠ÂÆö
  - PostgreSQL „Çπ„Ç≠„Éº„Éû‰ΩúÊàê
  - ÊöóÂè∑Âåñ„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£

- **Day 3-4**: „Ç≥„Ç¢APIÂÆüË£Ö
  - Facts CRUD
  - Integrations ÁÆ°ÁêÜ
  - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞

- **Day 5-7**: ÊúÄÂ∞èUI
  - Next.js „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó
  - /setup/slack - OAuthÁîªÈù¢
  - /setup/github - WebhookË®≠ÂÆöÁîªÈù¢

### Week 2: Â§ñÈÉ®ÈÄ£Êê∫„Å®F2AÁµ±Âêà

- **Day 8-10**: SlackÈÄ£Êê∫
  - OAuth „Éï„É≠„ÉºÂÆüË£Ö
  - DMÊäïÁ®øÔºà„É™„Ç¢„É´„Çø„Ç§„É†Ôºâ
  - Rate Limit ÂØæÂøúÔºàQueueÔºâ

- **Day 11-12**: GitHubÈÄ£Êê∫  
  - Webhook Âèó‰ø°„ÉªÊ§úË®º
  - Fact Â§âÊèõ„É≠„Ç∏„ÉÉ„ÇØ
  - Ëá™Âãï Slack ÊäïÁ®ø

- **Day 13-14**: F2AÈÄ£Êê∫Ê∫ñÂÇô
  - GET /api/facts „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà
  - „Éï„Ç£„É´„Çø„Éª„Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥
  - F2AÂΩ¢Âºè„Å∏„ÅÆÂ§âÊèõAPI

---

## üìä ÊàêÂäüÊåáÊ®ô

### ÊäÄË°ìÁöÑÊåáÊ®ô

- Webhook Âèó‰ø°ÊàêÂäüÁéá > 99%
- Slack ÊäïÁ®øÊàêÂäüÁéá > 95%
- API „É¨„Çπ„Éù„É≥„Çπ„Çø„Ç§„É† < 200ms

### ‰æ°ÂÄ§ÊåáÊ®ô

- 1Êó•„ÅÇ„Åü„Çä 50+ Facts „ÅåËá™ÂãïË®òÈå≤„Åï„Çå„Çã
- Slack DM „ÇíÊØéÊó•Á¢∫Ë™ç„Åô„ÇãÁøíÊÖ£„Åå„Åß„Åç„Çã
- F2A „Åß„ÅÆ„Ç§„Éô„É≥„ÉàÂèñ„ÇäËæº„Åø„ÅåËá™ÂãïÂåñ„Åï„Çå„Çã

---

## üìÖ Ê¨°„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥

1. Railway „Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê
2. GitHub „É™„Éù„Ç∏„Éà„É™‰ΩúÊàêÔºàfactrailÔºâ
3. NestJS „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂàùÊúüÂåñ
4. Prisma „Çπ„Ç≠„Éº„ÉûÂÆöÁæ©
5. GitHub Webhook „Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÂÆüË£Ö